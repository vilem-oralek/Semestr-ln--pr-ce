<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Rezervace</title>
    <script>
      fetch("header.html")
        .then(response => response.text())
        .then(data => {
          document.getElementById("header-placeholder").innerHTML = data;
        });
    </script>
</head>
<body>
  <div id="header-placeholder"></div>
  <section class="reservation-hero">

    <section class="popis">
        <h2>Jak rezervovat?</h2>
        <p>Vyberte si datum a čas, vyplňte své údaje a odešlete formulář. Po odeslání vás budeme kontaktovat s potvrzením vaší rezervace.</p>
        <p>Pokud máte jakékoliv dotazy, neváhejte nás kontaktovat na e-mailu nebo telefonním čísle uvedeném v kontaktech.</p>
    </section>

    <section id="rezervace">
        <h2>Rezervace</h2>
        <form id="rezervacni-formular" action="rezervace.php">
            <div class="form-group">
                <label for="datum-odjezdu">Vyberte datum odjezdu:</label>
                <input type="date" id="datum-odjezdu" name="datum-odjezdu" required>
            </div>

            <div class="form-group">
                <label for="datum-prijezdu">Vyberte datum prijezdu:</label>
                <input type="date" id="datum-prijezdu" name="datum-prijezdu" required>
            </div>

            <div class="form-group">
                <label for="jmeno">Vaše jméno:</label>
                <input type="text" id="jmeno" name="jmeno" placeholder="Zadejte své jméno" required>
            </div>

            <div class="form-group">
                <label for="email">Váš e-mail:</label>
                <input type="email" id="email" name="email" placeholder="Zadejte svůj e-mail" required>
            </div>

            <div class="form-group">
                <label for="telefon">Telefonní číslo:</label>
                <input type="tel" id="telefon" name="telefon" placeholder="+420 123456789" pattern="^\+\d{1,4}\s?\d{6,14}$" required>
            </div>

            <div class="form-group">
                <label for="poznamka">Poznámka (volitelné):</label>
                <textarea id="poznamka" name="poznamka" placeholder="Zde můžete napsat poznámku pro hostitele..."></textarea>
            </div>

            <div class="form-group">
                <button type="submit">Odeslat rezervaci</button>
            </div>
        </form>
    </section>
  </section>
  <div class="background-image"></div>
  <footer>
    <p>&copy; 2023 Modrý Jelen Lipno. Všechna práva vyhrazena.</p>
  </footer>
  <script type="text/javascript">
    var jmeno = document.getElementById("jmeno");
    var telefon = document.getElementById("telefon");

    jmeno.addEventListener("focus", function(){
        setInterval(function(){
        let jmeno_value = jmeno.value;
        if (jmeno_value.length < 3) {
            jmeno.style.border = "solid red 3px";
        }
        else{
            jmeno.style.border = "solid black 1px";
        }
    }, 10);
    });
    telefon.addEventListener("focus", function(){
        setInterval(function(){
            let telefon_value = telefon.value;
        const regex_tel = /^\+\d{1,4}\s?\d{6,14}$/;
        if (!regex_tel.test(telefon_value)) {
            telefon.style.border = "solid red 3px";
        } else {
            telefon.style.border = "solid black 1px";
        }
    }, 10);
    });

    form1.addEventListener("submit", function(event){
        let jmeno_value = jmeno.value;
        let telefon_value = telefon.value;
        if (jmeno_value.length < 3 || telefon_value.length < 9) {
            event.preventDefault();
            alert("Formulář nelze odeslat, zkontrolujte zadané údaje.");
        }
    });
  </script>
</body>
</html>